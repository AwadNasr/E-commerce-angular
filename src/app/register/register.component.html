<div class="py-4">

  <form class="w-75 m-auto " (ngSubmit)="handleRegister(registerForm)" [formGroup]="registerForm">
    <h2 class="display-4 text-main mb-3">Register : </h2>
    <div class="wave-group my-3">
      <input  type="text" class="input" formControlName="name">
      <span class="bar"></span>
      <label class="label">
        <span class="label-char" style="--index: 0">N</span>
        <span class="label-char" style="--index: 1">a</span>
        <span class="label-char" style="--index: 2">m</span>
        <span class="label-char" style="--index: 3">e</span>
      </label>
      <div class="alert alert-danger" *ngIf="registerForm.get('name')?.errors && registerForm.get('name')?.touched">
        <p *ngIf="registerForm.get('name')?.getError('required')" class="m-0 p-0">Name is required</p>
        <p *ngIf="registerForm.get('name')?.getError('minlength')" class="m-0 p-0">Name must be not little than 4 and not more than 12</p>
        <p *ngIf="registerForm.get('name')?.getError('maxlength')" class="m-0 p-0">Name must be not little than 4 and not more than 12</p>
      </div>
    </div>
    <div class="wave-group my-3">
      <input  type="email" class="input" formControlName="email">
      <span class="bar"></span>
      <label class="label">
        <span class="label-char" style="--index: 0">E</span>
        <span class="label-char" style="--index: 1">m</span>
        <span class="label-char" style="--index: 2">a</span>
        <span class="label-char" style="--index: 3">i</span>
        <span class="label-char" style="--index: 4">l</span>
      </label>
      <div class="alert alert-danger mt-4" *ngIf="registerForm.get('email')?.errors && registerForm.get('email')?.touched">
        <p *ngIf="registerForm.get('email')?.getError('required')" class="m-0 p-0">Email is required</p>
        <p *ngIf="registerForm.get('email')?.getError('email')" class="m-0 p-0">Email not valid</p>
      </div>
    </div>
    <div class="wave-group my-3">
      <input  type="password" class="input" formControlName="password">
      <span class="bar"></span>
      <label class="label">
        <span class="label-char" style="--index: 0">P</span>
        <span class="label-char" style="--index: 1">a</span>
        <span class="label-char" style="--index: 2">s</span>
        <span class="label-char" style="--index: 3">s</span>
        <span class="label-char" style="--index: 4">w</span>
        <span class="label-char" style="--index: 5">o</span>
        <span class="label-char" style="--index: 6">r</span>
        <span class="label-char" style="--index: 7">d</span>
      </label>
      <div class="alert alert-danger mt-2" *ngIf="registerForm.get('password')?.errors && registerForm.get('password')?.touched">
        <p *ngIf="registerForm.get('password')?.getError('required')" class="m-0 p-0">Password is required</p>
        <p *ngIf="registerForm.get('password')?.getError('pattern')" class="m-0 p-0">Password must start with upperCase and many numbers</p>
      </div>
    </div>
    <div class="wave-group my-3">
      <input  type="password" class="input" formControlName="rePassword">
      <span class="bar"></span>
      <label class="label">
        <span class="label-char" style="--index: 0">R</span>
        <span class="label-char" style="--index: 1">e</span>
        <span class="label-char" style="--index: 2">p</span>
        <span class="label-char" style="--index: 3">a</span>
        <span class="label-char" style="--index: 4">s</span>
        <span class="label-char" style="--index: 5">s</span>
        <span class="label-char" style="--index: 6">w</span>
        <span class="label-char" style="--index: 7">o</span>
        <span class="label-char" style="--index: 8">r</span>
        <span class="label-char" style="--index: 9">d</span>
      </label>
      <div class="alert alert-danger mt-2" *ngIf="registerForm.get('rePassword')?.errors && registerForm.get('rePassword')?.touched">
        <p *ngIf="registerForm.get('rePassword')?.getError('required')" class="m-0 p-0">Repassword is required</p>
        <p *ngIf="registerForm.get('rePassword')?.getError('pattern')" class="m-0 p-0">Password must start with upperCase and many numbers</p>
      </div>
    </div>
    <div class="wave-group my-3">
      <input  type="tel" class="input" formControlName="phone">
      <span class="bar"></span>
      <label class="label">
        <span class="label-char" style="--index: 0">P</span>
        <span class="label-char" style="--index: 1">h</span>
        <span class="label-char" style="--index: 2">o</span>
        <span class="label-char" style="--index: 3">n</span>
        <span class="label-char" style="--index: 4">e</span>
      </label>
      <div class="alert alert-danger" *ngIf="registerForm.get('phone')?.errors && registerForm.get('phone')?.touched">
        <p *ngIf="registerForm.get('phone')?.getError('required')" class="m-0 p-0">Phone is required</p>
        <p *ngIf="registerForm.get('phone')?.getError('pattern')" class="m-0 p-0">Phone must be Egyptian number</p>
      </div>
    </div>



















    <button class="cssbuttons-io-button " type="submit" [disabled]="registerForm.invalid"> <span *ngIf="!isLoading">Submit</span>
      <div class="icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"></path><path fill="currentColor" d="M16.172 11l-5.364-5.364 1.414-1.414L20 12l-7.778 7.778-1.414-1.414L16.172 13H4v-2z"></path></svg>
      </div>
      <i *ngIf='isLoading' class="fa-solid fa-spinner fa-spin"></i>
    </button>


  </form>
</div>
